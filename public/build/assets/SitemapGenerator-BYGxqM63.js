import{r as a,c as U,i as g,o as b,K as f,e as t,k as S,j as c,v as B,n as y,l as L,J as V,t as m,x as N,P as H}from"./app-DcVG74mJ.js";const G={class:"sitemap-generator max-w-7xl mx-auto"},W={class:"bg-white border-2 border-gray-200 rounded-2xl shadow-xl overflow-hidden mb-8"},I={class:"p-6 space-y-6"},O={class:"bg-blue-50 rounded-xl p-4 border border-blue-200"},K={class:"space-y-3"},X={class:"flex items-center space-x-3"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"flex items-center space-x-3"},J={class:"flex space-x-3 pt-4"},Q=["disabled"],Z={key:0,class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},ee={key:1,class:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24"},te=["disabled"],le={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-xl p-4"},oe={class:"w-full bg-gray-200 rounded-full h-2"},se={class:"text-xs text-gray-600 mt-2"},ae={key:0,class:"bg-white border-2 border-gray-200 rounded-2xl shadow-xl overflow-hidden"},re={class:"bg-gradient-to-r from-primary-600 to-primary-700 text-white px-6 py-4 flex items-center justify-between"},ie={class:"flex space-x-2"},ne={class:"p-6"},de={class:"grid grid-cols-3 gap-4 mb-6"},ue={class:"bg-blue-50 rounded-xl p-4 text-center"},pe={class:"text-2xl font-bold text-blue-600"},ce={class:"bg-green-50 rounded-xl p-4 text-center"},me={class:"text-2xl font-bold text-green-600"},ve={class:"bg-gray-50 rounded-xl p-4"},xe={class:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto text-xs font-mono max-h-96 overflow-y-auto"},be={__name:"SitemapGenerator",props:{tool:Object},setup(R){const $=R,v=a(""),i=a(100),u=a(!1),w=a("weekly"),h=a("0.5"),C=a(!0),r=a(""),k=a(!1),n=a(!1),x=a(0),d=a([]),F=U(()=>r.value?(r.value.match(/<url>/g)||[]).length:0),z=U(()=>{if(!r.value)return"0 KB";const l=new Blob([r.value]).size;return l<1024?l+" B":l<1024*1024?(l/1024).toFixed(2)+" KB":(l/(1024*1024)).toFixed(2)+" MB"}),T=async()=>{if(!v.value){alert("Please enter a website URL");return}let l=v.value.trim();!l.startsWith("http://")&&!l.startsWith("https://")&&(l="https://"+l),l=l.replace(/\/$/,""),n.value=!0,x.value=0,d.value=[];try{const e=await H.post("/api/crawl-sitemap",{url:l,max_pages:i.value,include_images:u.value});d.value=e.data.urls||[],x.value=d.value.length,_(l,d.value),H.post(`/tools/${$.tool.slug}/log-usage`,{input:{url:l,max_pages:i.value},result:{url_count:d.value.length,size:z.value}}).catch(o=>console.error(o))}catch(e){console.error("Crawl error:",e),alert("Error crawling website. Please check the URL and try again. Note: Some websites may block crawling.")}finally{n.value=!1}},_=(l,e)=>{const o=new Date().toISOString().split("T")[0];let s=`<?xml version="1.0" encoding="UTF-8"?>
`;s+='<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"',u.value&&(s+=`
  xmlns:image="http://www.google.com/schemas/sitemap-image/1.1"`),s+=`>
`,e.forEach(p=>{const q=typeof p=="string"?p:p.url;s+=`  <url>
`,s+=`    <loc>${M(q)}</loc>
`,C.value&&(s+=`    <lastmod>${o}</lastmod>
`),s+=`    <changefreq>${w.value}</changefreq>
`,s+=`    <priority>${h.value}</priority>
`,u.value&&p.images&&p.images.length>0&&p.images.forEach(E=>{s+=`    <image:image>
`,s+=`      <image:loc>${M(E)}</image:loc>
`,s+=`    </image:image>
`}),s+=`  </url>
`}),s+="</urlset>",r.value=s},M=l=>l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),j=()=>{navigator.clipboard.writeText(r.value),k.value=!0,setTimeout(()=>{k.value=!1},2e3)},A=()=>{const l=new Blob([r.value],{type:"application/xml"}),e=URL.createObjectURL(l),o=document.createElement("a");o.href=e,o.download="sitemap.xml",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(e)},P=()=>{v.value="",i.value=100,u.value=!1,w.value="weekly",h.value="0.5",C.value=!0,r.value="",k.value=!1,x.value=0,d.value=[]};return(l,e)=>(b(),g("div",G,[e[28]||(e[28]=f('<div class="bg-gradient-to-r from-primary-600 to-primary-700 text-white p-5 rounded-2xl mb-8 flex items-center shadow-lg"><div class="bg-white/20 p-3 rounded-full mr-4"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div><span class="text-lg">Automatically crawl and generate XML sitemap for your entire website</span></div>',1)),t("div",W,[t("div",I,[t("div",null,[e[6]||(e[6]=t("label",{class:"block font-semibold text-gray-700 mb-2"},"Website URL *",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),type:"url",class:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:outline-none",placeholder:"https://example.com or example.com"},null,512),[[B,v.value]]),e[7]||(e[7]=t("p",{class:"text-xs text-gray-500 mt-1"},"Enter your website's domain - we'll automatically discover all pages",-1))]),t("div",O,[e[11]||(e[11]=t("h3",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})]),y(" Crawl Settings ")],-1)),t("div",K,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Max Pages to Crawl",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),type:"number",min:"1",max:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-primary-500 focus:outline-none"},null,512),[[B,i.value,void 0,{number:!0}]]),e[9]||(e[9]=t("p",{class:"text-xs text-gray-500 mt-1"},"Limit: 1-1000 pages (recommended: 100-500)",-1))]),t("div",X,[c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>u.value=o),type:"checkbox",id:"images",class:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"},null,512),[[L,u.value]]),e[10]||(e[10]=t("label",{for:"images",class:"text-sm font-medium text-gray-700 cursor-pointer"}," Include image URLs in sitemap ",-1))])])]),t("div",D,[t("div",null,[e[13]||(e[13]=t("label",{class:"block font-semibold text-gray-700 mb-2"},"Change Frequency",-1)),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>w.value=o),class:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:outline-none"},[...e[12]||(e[12]=[f('<option value="always">Always</option><option value="hourly">Hourly</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option><option value="never">Never</option>',7)])],512),[[V,w.value]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block font-semibold text-gray-700 mb-2"},"Priority",-1)),c(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>h.value=o),class:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:outline-none"},[...e[14]||(e[14]=[f('<option value="1.0">1.0 (Highest)</option><option value="0.9">0.9</option><option value="0.8">0.8</option><option value="0.7">0.7</option><option value="0.6">0.6</option><option value="0.5">0.5 (Default)</option><option value="0.4">0.4</option><option value="0.3">0.3</option><option value="0.2">0.2</option><option value="0.1">0.1 (Lowest)</option>',10)])],512),[[V,h.value]])])]),t("div",Y,[c(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>C.value=o),type:"checkbox",id:"lastmod",class:"w-5 h-5 text-primary-600 rounded focus:ring-primary-500"},null,512),[[L,C.value]]),e[16]||(e[16]=t("label",{for:"lastmod",class:"text-sm font-medium text-gray-700 cursor-pointer"}," Include last modification date (uses current date) ",-1))]),t("div",J,[t("button",{onClick:T,disabled:n.value,class:"flex-1 px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl font-bold hover:from-primary-700 hover:to-primary-800 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[n.value?(b(),g("svg",ee,[...e[18]||(e[18]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(b(),g("svg",Z,[...e[17]||(e[17]=[t("path",{"fill-rule":"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z","clip-rule":"evenodd"},null,-1)])])),y(" "+m(n.value?`Crawling... (${x.value}/${i.value})`:"Crawl & Generate Sitemap"),1)],8,Q),t("button",{onClick:P,disabled:n.value,class:"px-6 py-4 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-all disabled:opacity-50"}," Clear ",8,te)]),n.value?(b(),g("div",le,[e[19]||(e[19]=f('<div class="flex items-center mb-2"><svg class="animate-spin h-5 w-5 text-yellow-600 mr-2" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="font-semibold text-gray-900">Crawling website...</span></div>',1)),t("div",oe,[t("div",{class:"bg-gradient-to-r from-primary-600 to-primary-700 h-2 rounded-full transition-all duration-300",style:N({width:`${x.value/i.value*100}%`})},null,4)]),t("p",se,"Found "+m(d.value.length)+" unique URLs",1)])):S("",!0)])]),r.value?(b(),g("div",ae,[t("div",re,[e[22]||(e[22]=t("h3",{class:"text-2xl font-bold flex items-center"},[t("svg",{class:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})]),y(" Generated Sitemap ")],-1)),t("div",ie,[t("button",{onClick:j,class:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors flex items-center"},[e[20]||(e[20]=t("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),t("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})],-1)),y(" "+m(k.value?"Copied!":"Copy"),1)]),t("button",{onClick:A,class:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors flex items-center"},[...e[21]||(e[21]=[t("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),y(" Download ",-1)])])])]),t("div",ne,[t("div",de,[t("div",ue,[e[23]||(e[23]=t("div",{class:"text-sm text-gray-600 mb-1"},"Total URLs",-1)),t("div",pe,m(F.value),1)]),t("div",ce,[e[24]||(e[24]=t("div",{class:"text-sm text-gray-600 mb-1"},"File Size",-1)),t("div",me,m(z.value),1)]),e[25]||(e[25]=t("div",{class:"bg-purple-50 rounded-xl p-4 text-center"},[t("div",{class:"text-sm text-gray-600 mb-1"},"Format"),t("div",{class:"text-2xl font-bold text-purple-600"},"XML")],-1))]),t("div",ve,[e[26]||(e[26]=t("div",{class:"flex items-center justify-between mb-3"},[t("h4",{class:"font-bold text-gray-900"},"sitemap.xml"),t("span",{class:"text-xs text-gray-500"},"Preview")],-1)),t("pre",xe,m(r.value),1)]),e[27]||(e[27]=f('<div class="mt-6 bg-blue-50 rounded-xl p-5"><h4 class="font-bold text-gray-900 mb-3 flex items-center"><svg class="w-5 h-5 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> How to Use Your Sitemap </h4><ol class="space-y-2 text-sm text-gray-700"><li class="flex items-start"><span class="font-bold text-blue-600 mr-2">1.</span><span>Download the sitemap.xml file using the button above</span></li><li class="flex items-start"><span class="font-bold text-blue-600 mr-2">2.</span><span>Upload it to your website&#39;s root directory (e.g., https://example.com/sitemap.xml)</span></li><li class="flex items-start"><span class="font-bold text-blue-600 mr-2">3.</span><span>Submit to Google Search Console: <a href="https://search.google.com/search-console" target="_blank" class="text-blue-600 underline">search.google.com/search-console</a></span></li><li class="flex items-start"><span class="font-bold text-blue-600 mr-2">4.</span><span>Submit to Bing Webmaster Tools: <a href="https://www.bing.com/webmasters" target="_blank" class="text-blue-600 underline">bing.com/webmasters</a></span></li></ol></div>',1))])])):S("",!0)]))}};export{be as default};
