import{r as f,u as k,c as h,a as V,b as x,d as u,e as t,f as r,h as U,g as B,i as b,o as p,j as i,v as d,k as C,l as P,m as D,n as I,t as M,p as S}from"./app-DgB6Hkef.js";import{_ as j}from"./AdminLayout-BnSwdi5q.js";import{_ as $}from"./SeoFields-BzxCTebC.js";import{_ as E}from"./RichTextEditor-5LIOiiuV.js";const T={class:"max-w-5xl"},F={class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6"},L={key:0,class:"relative mb-4"},N=["src"],q={class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6"},A={class:"space-y-4"},O={class:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6"},R={class:"space-y-4"},z={class:"flex items-center justify-between"},H={class:"relative inline-flex items-center cursor-pointer"},G={key:0},J={class:"flex items-center justify-between"},K=["disabled"],Z={__name:"Edit",props:{blog:Object},setup(c){const a=c,n=f(a.blog.featured_image?`/storage/${a.blog.featured_image}`:null),m=f(null),l=k({title:a.blog.title,slug:a.blog.slug,excerpt:a.blog.excerpt,content:a.blog.content,featured_image:null,author:a.blog.author,is_published:a.blog.is_published,published_at:a.blog.published_at?new Date(a.blog.published_at).toISOString().slice(0,16):null,meta_title:a.blog.meta_title,meta_description:a.blog.meta_description,meta_keywords:a.blog.meta_keywords}),g=h({get:()=>({meta_title:l.meta_title,meta_description:l.meta_description,meta_keywords:l.meta_keywords}),set:o=>{l.meta_title=o.meta_title,l.meta_description=o.meta_description,l.meta_keywords=o.meta_keywords}}),y=o=>{const e=o.target.files[0];if(e){l.featured_image=e;const s=new FileReader;s.onload=_=>{n.value=_.target.result},s.readAsDataURL(e)}},v=()=>{l.featured_image=null,n.value=a.blog.featured_image?`/storage/${a.blog.featured_image}`:null,m.value&&(m.value.value="")},w=()=>{const o=new FormData;o.append("title",l.title||""),o.append("slug",l.slug||""),o.append("excerpt",l.excerpt||""),o.append("content",l.content||""),o.append("author",l.author||""),o.append("is_published",l.is_published?"1":"0"),o.append("published_at",l.published_at||""),o.append("meta_title",l.meta_title||""),o.append("meta_description",l.meta_description||""),o.append("meta_keywords",l.meta_keywords||""),o.append("_method","PUT"),l.featured_image&&o.append("featured_image",l.featured_image),S.post(route("admin.blogs.update",a.blog.id),o,{preserveScroll:!0,onSuccess:()=>{}})};return(o,e)=>(p(),V(j,null,{default:x(()=>[u(r(U),{title:"Edit Blog Post"}),t("div",T,[e[23]||(e[23]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Blog Post")],-1)),t("form",{onSubmit:B(w,["prevent"]),class:"space-y-6"},[t("div",F,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Featured Image",-1)),n.value?(p(),b("div",L,[t("img",{src:n.value,class:"w-full h-64 object-cover rounded-xl"},null,8,N),t("button",{type:"button",onClick:v,class:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-lg"},[...e[9]||(e[9]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(p(),b("div",{key:1,class:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer",onClick:e[0]||(e[0]=s=>o.$refs.fileInput.click())},[...e[10]||(e[10]=[t("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),t("p",{class:"text-gray-600"},"Click to upload new image",-1)])])),t("input",{ref_key:"fileInput",ref:m,type:"file",accept:"image/*",onChange:y,class:"hidden"},null,544)]),t("div",q,[e[17]||(e[17]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Basic Information",-1)),t("div",A,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Title *",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r(l).title=s),type:"text",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[d,r(l).title]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Slug *",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>r(l).slug=s),type:"text",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[d,r(l).slug]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Author",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>r(l).author=s),type:"text",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[d,r(l).author]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Excerpt",-1)),i(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>r(l).excerpt=s),rows:"3",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[d,r(l).excerpt]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Content *",-1)),u(E,{modelValue:r(l).content,"onUpdate:modelValue":e[5]||(e[5]=s=>r(l).content=s)},null,8,["modelValue"])])])]),u($,{modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=s=>g.value=s),"default-title":r(l).title||"Blog Post Title","default-description":r(l).excerpt||"Blog post description"},null,8,["modelValue","default-title","default-description"]),t("div",O,[e[21]||(e[21]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Publish Settings",-1)),t("div",R,[t("div",z,[e[19]||(e[19]=t("div",null,[t("label",{class:"text-sm font-semibold text-gray-700"},"Publish"),t("p",{class:"text-xs text-gray-500"},"Make this post visible")],-1)),t("label",H,[i(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=s=>r(l).is_published=s),class:"sr-only peer"},null,512),[[P,r(l).is_published]]),e[18]||(e[18]=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"},null,-1))])]),r(l).is_published?(p(),b("div",G,[e[20]||(e[20]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Publish Date",-1)),i(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>r(l).published_at=s),type:"datetime-local",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"},null,512),[[d,r(l).published_at]])])):C("",!0)])]),t("div",J,[u(r(D),{href:o.route("admin.blogs.index"),class:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50"},{default:x(()=>[...e[22]||(e[22]=[I(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:r(l).processing,class:"px-8 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl font-semibold hover:from-primary-700 hover:to-primary-800 shadow-lg"},M(r(l).processing?"Updating...":"Update Post"),9,K)])],32)])]),_:1}))}};export{Z as default};
