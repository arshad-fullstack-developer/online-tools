import{r as m,c as T,i as w,o as P,K as C,e,k,j as x,v as y,n as F,l as H,J as O,t as o,x as L,F as Y,p as D,P as N}from"./app-BZ-4dTQb.js";const q={class:"loan-emi-calculator max-w-7xl mx-auto"},K={class:"bg-white border-2 border-gray-200 rounded-2xl shadow-xl overflow-hidden mb-8"},J={class:"p-6 space-y-6"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},G={class:"bg-blue-50 rounded-xl p-4 border border-blue-200"},Q={class:"flex items-center justify-between mb-3"},X={class:"flex items-center cursor-pointer"},Z={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ee={key:0,class:"space-y-6"},te={class:"bg-gradient-to-br from-primary-500 to-primary-600 text-white rounded-2xl p-8 text-center shadow-xl"},le={class:"text-6xl font-bold mb-2"},se={class:"text-sm opacity-90"},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ae={class:"bg-white rounded-2xl p-6 shadow-lg border-2 border-blue-200"},ne={class:"text-3xl font-bold text-blue-600"},re={class:"text-xs text-gray-500 mt-1"},ie={class:"bg-white rounded-2xl p-6 shadow-lg border-2 border-red-200"},de={class:"text-3xl font-bold text-red-600"},ue={class:"text-xs text-gray-500 mt-1"},ve={class:"bg-white rounded-2xl p-6 shadow-lg border-2 border-green-200"},pe={class:"text-3xl font-bold text-green-600"},ce={class:"text-xs text-gray-500 mt-1"},me={key:0,class:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-2xl p-6 shadow-xl"},xe={class:"flex items-center justify-between"},be={class:"text-4xl font-bold"},ye={class:"text-sm opacity-90 mt-1"},ge={class:"bg-white rounded-2xl shadow-xl p-6 border-2 border-gray-200"},fe={class:"mb-6"},he={class:"flex h-12 rounded-xl overflow-hidden shadow-lg"},we={class:"grid grid-cols-2 gap-4"},Pe={class:"flex items-center space-x-3"},Me={class:"font-bold text-gray-900"},_e={class:"flex items-center space-x-3"},Ie={class:"font-bold text-gray-900"},$e={class:"bg-white rounded-2xl shadow-xl p-6 border-2 border-gray-200"},Ce={class:"space-y-3"},ze={class:"flex justify-between items-center py-2 border-b border-gray-100"},Ve={class:"font-bold text-xl text-primary-600"},je={class:"flex justify-between items-center py-2 border-b border-gray-100"},ke={class:"font-semibold text-gray-900"},Fe={class:"flex justify-between items-center py-2 border-b border-gray-100"},Le={class:"font-semibold text-gray-900"},Ae={class:"flex justify-between items-center py-2 border-b border-gray-100"},Se={class:"font-semibold text-gray-900"},Be={class:"flex justify-between items-center py-2 border-b border-gray-100"},Re={class:"font-semibold text-gray-900"},Ue={class:"flex justify-between items-center py-2"},Ee={class:"font-semibold text-gray-900"},Te={class:"bg-white rounded-2xl shadow-xl p-6 border-2 border-gray-200"},He={class:"flex items-center justify-between mb-4"},Oe={class:"overflow-x-auto"},Ye={class:"w-full text-sm"},De={class:"bg-gray-100"},Ne={class:"px-4 py-3 text-left font-semibold text-gray-700"},qe={class:"px-4 py-3 font-medium text-gray-900"},Ke={class:"px-4 py-3 text-right text-gray-900"},Je={class:"px-4 py-3 text-right text-blue-600"},We={class:"px-4 py-3 text-right text-red-600"},Ge={class:"px-4 py-3 text-right font-semibold text-gray-900"},Xe={__name:"LoanEmiCalculator",props:{tool:Object},setup(A){const S=A,u=m(1e5),d=m(7.5),i=m(20),g=m(!1),M=m(0),f=m("yearly"),s=m(null),h=m([]),_=m(!1),B=T(()=>{if(!h.value.length)return[];if(_.value)return h.value;const r=[];for(let t=1;t<=i.value;t++){const l=h.value.filter(a=>a.month>(t-1)*12&&a.month<=t*12);if(l.length>0){const a=l[l.length-1];r.push({period:`Year ${t}`,emi:(parseFloat(a.emi)*12).toFixed(2),principal:l.reduce((n,c)=>n+parseFloat(c.principalPaid),0).toFixed(2),interest:l.reduce((n,c)=>n+parseFloat(c.interestPaid),0).toFixed(2),balance:a.balance})}}return r}),v=()=>{if(!u.value||!d.value||!i.value){s.value=null;return}if(u.value<=0||d.value<=0||i.value<=0){alert("Please enter valid positive values!");return}const r=u.value,t=d.value/12/100,l=i.value*12,a=r*t*Math.pow(1+t,l)/(Math.pow(1+t,l)-1);let n=r;const c=[];for(let p=1;p<=l;p++){const I=n*t,$=a-I;if(n-=$,n<0&&(n=0),c.push({month:p,period:`Month ${p}`,emi:a.toFixed(2),principalPaid:$.toFixed(2),interestPaid:I.toFixed(2),balance:n.toFixed(2)}),n<=0)break}h.value=c;const b=a*l,z=b-r,V=(r/b*100).toFixed(1),j=(z/b*100).toFixed(1);s.value={emi:a.toFixed(2),principal:r.toFixed(2),totalInterest:z.toFixed(2),totalAmount:b.toFixed(2),totalMonths:l,principalPercentage:V,interestPercentage:j},g.value&&M.value>0&&R(),N.post(`/tools/${S.tool.slug}/log-usage`,{input:{loanAmount:u.value,interestRate:d.value,tenure:i.value}}).catch(()=>{})},R=()=>{const r=u.value,t=d.value/12/100,l=i.value*12,a=parseFloat(s.value.emi);let n=r,c=0,b=0;for(let p=1;p<=l;p++){const I=n*t;let $=a-I;if((f.value==="monthly"||f.value==="yearly"&&p%12===0||f.value==="one-time"&&p===12)&&($+=M.value),n-=$,c+=I,b=p,n<=0)break}const V=(parseFloat(s.value.totalInterest)-c).toFixed(2),j=l-b;s.value.savings=V,s.value.tenureReduction=j},U=()=>{let r=`Period,EMI,Principal,Interest,Balance
`;h.value.forEach(n=>{r+=`${n.period},${n.emi},${n.principalPaid},${n.interestPaid},${n.balance}
`});const t=new Blob([r],{type:"text/csv"}),l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download="loan-amortization-schedule.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)},E=()=>{u.value=1e5,d.value=7.5,i.value=20,g.value=!1,M.value=0,f.value="yearly",s.value=null,h.value=[]};return(r,t)=>(P(),w("div",q,[t[46]||(t[46]=C('<div class="bg-gradient-to-r from-primary-600 to-primary-700 text-white p-5 rounded-2xl mb-8 flex items-center shadow-lg"><div class="bg-white/20 p-3 rounded-full mr-4"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd"></path></svg></div><span class="text-lg">Calculate your monthly EMI, total interest, and view complete amortization schedule</span></div>',1)),e("div",K,[e("div",J,[e("div",W,[e("div",null,[t[10]||(t[10]=e("label",{class:"block font-semibold text-gray-700 mb-2"},"Loan Amount ($)",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>u.value=l),type:"number",step:"1000",min:"1000",class:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:outline-none",placeholder:"100000",onInput:v},null,544),[[y,u.value,void 0,{number:!0}]]),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>u.value=l),type:"range",min:"10000",max:"10000000",step:"10000",class:"w-full mt-2",onInput:v},null,544),[[y,u.value,void 0,{number:!0}]]),t[11]||(t[11]=e("p",{class:"text-xs text-gray-500 mt-1"},"$10K - $10M",-1))]),e("div",null,[t[12]||(t[12]=e("label",{class:"block font-semibold text-gray-700 mb-2"},"Interest Rate (% per year)",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>d.value=l),type:"number",step:"0.1",min:"0.1",max:"30",class:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:outline-none",placeholder:"7.5",onInput:v},null,544),[[y,d.value,void 0,{number:!0}]]),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>d.value=l),type:"range",min:"1",max:"30",step:"0.1",class:"w-full mt-2",onInput:v},null,544),[[y,d.value,void 0,{number:!0}]]),t[13]||(t[13]=e("p",{class:"text-xs text-gray-500 mt-1"},"1% - 30%",-1))]),e("div",null,[t[14]||(t[14]=e("label",{class:"block font-semibold text-gray-700 mb-2"},"Loan Tenure (Years)",-1)),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>i.value=l),type:"number",step:"1",min:"1",max:"30",class:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-primary-500 focus:outline-none",placeholder:"20",onInput:v},null,544),[[y,i.value,void 0,{number:!0}]]),x(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.value=l),type:"range",min:"1",max:"30",step:"1",class:"w-full mt-2",onInput:v},null,544),[[y,i.value,void 0,{number:!0}]]),t[15]||(t[15]=e("p",{class:"text-xs text-gray-500 mt-1"},"1 - 30 years",-1))])]),e("div",G,[e("div",Q,[t[17]||(t[17]=e("h3",{class:"font-semibold text-gray-900 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule":"evenodd"})]),F(" Prepayment (Optional) ")],-1)),e("label",X,[x(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>g.value=l),type:"checkbox",class:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500",onChange:v},null,544),[[H,g.value]]),t[16]||(t[16]=e("span",{class:"ml-2 text-sm font-medium text-gray-700"},"Enable",-1))])]),g.value?(P(),w("div",Z,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prepayment Amount ($)",-1)),x(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>M.value=l),type:"number",step:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-primary-500 focus:outline-none",placeholder:"10000",onInput:v},null,544),[[y,M.value,void 0,{number:!0}]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prepayment Frequency",-1)),x(e("select",{"onUpdate:modelValue":t[8]||(t[8]=l=>f.value=l),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-primary-500 focus:outline-none",onChange:v},[...t[19]||(t[19]=[e("option",{value:"yearly"},"Yearly",-1),e("option",{value:"monthly"},"Monthly",-1),e("option",{value:"one-time"},"One-Time",-1)])],544),[[O,f.value]])])])):k("",!0)]),e("button",{onClick:v,class:"w-full px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl font-bold hover:from-primary-700 hover:to-primary-800 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center"},[...t[21]||(t[21]=[e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z","clip-rule":"evenodd"})],-1),F(" Calculate EMI ",-1)])])])]),s.value?(P(),w("div",ee,[e("div",te,[t[22]||(t[22]=e("div",{class:"text-sm uppercase tracking-wide mb-2 opacity-90"},"Monthly EMI",-1)),e("div",le,"$"+o(s.value.emi),1),e("div",se,"for "+o(s.value.totalMonths)+" months",1)]),e("div",oe,[e("div",ae,[t[23]||(t[23]=C('<div class="flex items-center justify-between mb-2"><div class="text-sm text-gray-600">Principal Amount</div><div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"></path><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"></path></svg></div></div>',1)),e("div",ne,"$"+o(s.value.principal),1),e("div",re,o(s.value.principalPercentage)+"% of total",1)]),e("div",ie,[t[24]||(t[24]=C('<div class="flex items-center justify-between mb-2"><div class="text-sm text-gray-600">Total Interest</div><div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"></path></svg></div></div>',1)),e("div",de,"$"+o(s.value.totalInterest),1),e("div",ue,o(s.value.interestPercentage)+"% of total",1)]),e("div",ve,[t[25]||(t[25]=C('<div class="flex items-center justify-between mb-2"><div class="text-sm text-gray-600">Total Payment</div><div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg></div></div>',1)),e("div",pe,"$"+o(s.value.totalAmount),1),e("div",ce,"Over "+o(i.value)+" years",1)])]),g.value&&s.value.savings?(P(),w("div",me,[e("div",xe,[e("div",null,[t[26]||(t[26]=e("div",{class:"text-sm opacity-90 mb-1"},"ðŸ’° Total Savings with Prepayment",-1)),e("div",be,"$"+o(s.value.savings),1),e("div",ye,"Tenure reduced by "+o(s.value.tenureReduction)+" months",1)]),t[27]||(t[27]=e("div",{class:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1))])])):k("",!0),e("div",ge,[t[32]||(t[32]=e("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Payment Breakdown",-1)),e("div",fe,[e("div",he,[e("div",{class:"bg-blue-500 flex items-center justify-center text-white font-semibold text-sm",style:L({width:s.value.principalPercentage+"%"})},o(s.value.principalPercentage)+"% ",5),e("div",{class:"bg-red-500 flex items-center justify-center text-white font-semibold text-sm",style:L({width:s.value.interestPercentage+"%"})},o(s.value.interestPercentage)+"% ",5)])]),e("div",we,[e("div",Pe,[t[29]||(t[29]=e("div",{class:"w-6 h-6 bg-blue-500 rounded"},null,-1)),e("div",null,[t[28]||(t[28]=e("div",{class:"text-xs text-gray-600"},"Principal",-1)),e("div",Me,"$"+o(s.value.principal),1)])]),e("div",_e,[t[31]||(t[31]=e("div",{class:"w-6 h-6 bg-red-500 rounded"},null,-1)),e("div",null,[t[30]||(t[30]=e("div",{class:"text-xs text-gray-600"},"Interest",-1)),e("div",Ie,"$"+o(s.value.totalInterest),1)])])])]),e("div",$e,[t[39]||(t[39]=e("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Loan Summary",-1)),e("div",Ce,[e("div",ze,[t[33]||(t[33]=e("span",{class:"text-gray-600"},"Monthly EMI",-1)),e("span",Ve,"$"+o(s.value.emi),1)]),e("div",je,[t[34]||(t[34]=e("span",{class:"text-gray-600"},"Loan Amount",-1)),e("span",ke,"$"+o(s.value.principal),1)]),e("div",Fe,[t[35]||(t[35]=e("span",{class:"text-gray-600"},"Total Interest",-1)),e("span",Le,"$"+o(s.value.totalInterest),1)]),e("div",Ae,[t[36]||(t[36]=e("span",{class:"text-gray-600"},"Total Payment",-1)),e("span",Se,"$"+o(s.value.totalAmount),1)]),e("div",Be,[t[37]||(t[37]=e("span",{class:"text-gray-600"},"Loan Tenure",-1)),e("span",Re,o(i.value)+" years ("+o(s.value.totalMonths)+" months)",1)]),e("div",Ue,[t[38]||(t[38]=e("span",{class:"text-gray-600"},"Interest Rate",-1)),e("span",Ee,o(d.value)+"% per year",1)])])]),e("div",Te,[e("div",He,[t[40]||(t[40]=e("h3",{class:"text-xl font-bold text-gray-900"},"Amortization Schedule",-1)),e("button",{onClick:t[9]||(t[9]=l=>_.value=!_.value),class:"text-sm px-4 py-2 bg-primary-100 text-primary-700 rounded-lg hover:bg-primary-200 transition-colors"},o(_.value?"Show Yearly":"Show All Months"),1)]),e("div",Oe,[e("table",Ye,[e("thead",De,[e("tr",null,[e("th",Ne,o(_.value?"Month":"Year"),1),t[41]||(t[41]=e("th",{class:"px-4 py-3 text-right font-semibold text-gray-700"},"EMI",-1)),t[42]||(t[42]=e("th",{class:"px-4 py-3 text-right font-semibold text-gray-700"},"Principal",-1)),t[43]||(t[43]=e("th",{class:"px-4 py-3 text-right font-semibold text-gray-700"},"Interest",-1)),t[44]||(t[44]=e("th",{class:"px-4 py-3 text-right font-semibold text-gray-700"},"Balance",-1))])]),e("tbody",null,[(P(!0),w(Y,null,D(B.value,(l,a)=>(P(),w("tr",{key:a,class:"border-b border-gray-100 hover:bg-gray-50"},[e("td",qe,o(l.period),1),e("td",Ke,"$"+o(l.emi),1),e("td",Je,"$"+o(l.principal),1),e("td",We,"$"+o(l.interest),1),e("td",Ge,"$"+o(l.balance),1)]))),128))])])]),e("button",{onClick:U,class:"mt-4 w-full px-4 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-all flex items-center justify-center"},[...t[45]||(t[45]=[e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),F(" Download Schedule (CSV) ",-1)])])]),e("button",{onClick:E,class:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-all"}," Reset Calculator ")])):k("",!0)]))}};export{Xe as default};
